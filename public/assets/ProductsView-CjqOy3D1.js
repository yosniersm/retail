import{_,g as d}from"./PaginationButton.vue_vue_type_script_setup_true_lang-CvbVXBmB.js";import{u as h,a as y}from"./get-product-image.action-KNEmVQFe.js";import{u as g,e as b,w,d as v,f as q,j as k,c,o as i,a as e,h as p,F as x,r as C,z as N,s as P,x as z,t as u,i as l}from"./index-5SobYu43.js";const F=()=>{const r=g(),a=b(Number(r.query.page||1));return w(()=>r.query.page,t=>{a.value=Number(t||1),window.scrollTo({top:0,behavior:"smooth"})}),{page:a}},V={class:"py-8 w-full"},j={class:"shadow overflow-hidden rounded border-b border-gray-200"},B={class:"min-w-full bg-white"},Q={class:"text-gray-700"},T={class:"w-10 text-left py-3 px-4"},E=["src","alt"],K={class:"text-left py-3 px-4"},S={class:"rounded text-left py-3 px-4"},$={class:"bg-blue-200 text-blue-600 rounded-full px-2 py-2 text-xs"},A={class:"text-left py-3 px-4"},G=v({__name:"ProductsView",setup(r){const a=h(),{page:t}=F(),{data:n}=y({queryKey:["products",{page:t}],queryFn:()=>d(t.value)});return q(()=>{a.prefetchQuery({queryKey:["products",{page:t.value+1}],queryFn:()=>d(t.value+1)})}),(D,o)=>{const f=k("router-link");return i(),c(x,null,[o[1]||(o[1]=e("h1",{class:"text-3xl"},"Products",-1)),e("div",V,[e("div",j,[e("table",B,[o[0]||(o[0]=e("thead",{class:"bg-gray-800 text-white"},[e("tr",null,[e("th",{class:"w-10 text-left py-3 px-4 uppercase font-semibold text-sm"},"Image"),e("th",{class:"flex-1 text-left py-3 px-4 uppercase font-semibold text-sm"},"Title"),e("th",{class:"w-28 text-left py-3 px-4 uppercase font-semibold text-sm"},"Price"),e("th",{class:"w-60 text-left py-3 px-4 uppercase font-semibold text-sm"},"Sizes")])],-1)),e("tbody",Q,[(i(!0),c(x,null,C(l(n),(s,m)=>(i(),c("tr",{key:s.id,class:N({"bg-gray-200":m%2===0})},[e("td",T,[e("img",{class:"w-10 h-10 object-cover",src:s.images[0],alt:s.title},null,8,E)]),e("td",K,[p(f,{to:`/backoffice/products/${s.id}`,class:"hover:text-blue-500 hover:underline"},{default:P(()=>[z(u(s.title),1)]),_:2},1032,["to"])]),e("td",S,[e("span",$,u(s.price),1)]),e("td",A,u(s.sizes.join(",")),1)],2))),128))])]),p(_,{page:l(t),"has-more-data":!!l(n)&&l(n).length<10},null,8,["page","has-more-data"])])])],64)}}});export{G as default};
